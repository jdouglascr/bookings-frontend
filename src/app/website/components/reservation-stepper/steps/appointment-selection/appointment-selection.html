<div class="appointment-selection">
  @if (isLoading()) {
    <div class="appointments-grid">
      @for (i of [1, 2, 3]; track i) {
        <div class="appointment-card appointment-card--skeleton">
          <div class="skeleton skeleton-image"></div>
          <div class="appointment-info" style="flex: 1">
            <div class="skeleton skeleton-title"></div>
            <div class="skeleton skeleton-text"></div>
          </div>
          <div class="skeleton skeleton-indicator"></div>
        </div>
      }
    </div>
  } @else if (appointments().length > 0) {
    <div class="appointments-grid">
      @for (appointment of appointments(); track appointment.resourceServiceId) {
        <div
          class="appointment-card"
          role="button"
          tabindex="0"
          [class.selected]="selectedAppointment()?.resourceServiceId === appointment.resourceServiceId"
          (click)="selectAppointment(appointment)"
          (keyup.enter)="selectAppointment(appointment)"
          (keyup.space)="selectAppointment(appointment)"
        >
          <div class="appointment-image">
            <img [src]="appointment.imageUrl" [alt]="appointment.name" />
          </div>
          <div class="appointment-info">
            <h4>{{ appointment.name }}</h4>
            <p class="description">{{ appointment.description }}</p>
          </div>
          <div class="selected-indicator">
            <mat-icon>check_circle</mat-icon>
          </div>
        </div>
      }
    </div>
  } @else {
    <div class="empty-state">
      <mat-icon>person_off</mat-icon>
      <p>No hay recursos disponibles para este servicio</p>
    </div>
  }
</div>
